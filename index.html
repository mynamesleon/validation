<!DOCTYPE html>
<html>

<head>
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.css" rel="stylesheet" />
    <style>
        input.validation-failed,
        select.validation-failed,
        textarea.validation-failed,
        .form-group div[data-validation] {
            color: red;
            border-color: red;
        }
        .hidden { display: none; }
    </style>
</head>

<body>

    <form data-validation="true">
        <div class="container">
            <div class="panel panel-default">
                <div class="panel-heading">
                    Form Validation Sample
                </div>
                <div class="panel-body">
                    <div class="form-group">
                        <label for="text-number">Number between 4 and 20 (inclusive), not required</label>
                        <input class="form-control" type="text" name="text-number" data-validation="number min:4 max:20" />
                        <div class="hidden" data-validation="number">Must be a number</div>
                        <div class="hidden" data-validation="min">Minimum of 4</div>
                        <div class="hidden" data-validation="max">Maximum of 20</div>
                    </div>
                    <div class="form-group">
                        <label for="text-length">Text between 5 and 200 characters, not required</label>
                        <input class="form-control" type="text" name="text-length" data-validation="minlength:5 maxlength:200" />
                        <div class="hidden" data-validation="minlength">Minimum 5 characters</div>
                        <div class="hidden" data-validation="maxlength">Maximum 200 characters</div>
                    </div>
                    <div class="form-group">
                        <label for="text-required-length">Text between 5 and 200 characters, required</label>
                        <input class="form-control" type="text" name="text-required-length" data-validation="required minlength:5 maxlength:200" />
                        <div class="hidden" data-validation="required">Required</div>
                        <div class="hidden" data-validation="minlength">Minimum 5 characters</div>
                        <div class="hidden" data-validation="maxlength">Maximum 200 characters</div>
                    </div>
                    <div class="form-group">
                        <label for="email">Email required</label>
                        <input class="form-control" type="email" name="email" data-validation="required email" />
                        <div class="hidden" data-validation="required">Required</div>
                        <div class="hidden" data-validation="email">Please enter an email address</div>
                    </div>
                    <div class="form-group">
                        <label for="email-confirm">Confirm email required</label>
                        <input class="form-control" type="email" name="email-confirm" data-validation="required email confirm:$(this).parent().prev('.form-group').find('input')" />
                        <div class="hidden" data-validation="required">Required</div>
                        <div class="hidden" data-validation="email">Please enter an email address</div>
                        <div class="hidden" data-validation="confirm">The values do not match</div>
                    </div>
                    <div class="form-group">
                        <label for="radio">Radio button group required, must be second input</label>
                        <input type="radio" id="radio1" name="radio" value="1" data-validation="required" />
                        <input type="radio" id="radio2" name="radio" value="2" data-validation="match:2" />
                        <div class="hidden" data-validation="required">Required</div>
                        <div class="hidden" data-validation="match">Value must be 2</div>
                    </div>
                    <div class="form-group">
                        <label for="checkbox2">Checkbox group required</label>
                        <input type="checkbox" name="checkboxes[group]" value="1" data-validation="required minlength:2" />
                        <input type="checkbox" name="checkboxes[group]" value="2" />
                        <input type="checkbox" name="checkboxes[group]" value="3" />
                        <div class="hidden" data-validation="required">Required</div>
                        <div class="hidden" data-validation="minlength">Please select at least 2</div>
                    </div>
                    <div class="form-group">
                        <label for="checkbox2">Checkbox (must be unchecked)</label>
                        <input type="checkbox" name="checkboxes.unchecked" value="1" data-validation="unchecked" />
                        <div class="hidden" data-validation="unchecked">Must be unchecked</div>
                    </div>
                    <div class="form-group">
                        <label for="dropdown">Dropdown required</label>
                        <select class="form-control" name="dropdown" data-validation="required">
                            <option value="-1">dropdown</option>
                            <option value="something">something</option>
                            <option value="something else">something else</option>
                        </select>
                        <div class="hidden" data-validation="required">Required</div>
                    </div>

                    <div class="panel panel-default" data-validation="true">
                        <div class="panel-heading">
                            Sub form
                        </div>
                        <div class="panel-body">
                            <div class="form-group">
                                <label for="text-number">Number between 1 and 4 (inclusive), required</label>
                                <input class="form-control" type="text" name="text-number" data-validation="number required range:1:4" />
                                <div class="hidden" data-validation="required">Required</div>
                                <div class="hidden" data-validation="number">Must be a number</div>
                                <div class="hidden" data-validation="range">Must be between 1 and 4</div>
                            </div>
                            <div class="form-group">
                                <label for="text-number">Colour (rgb, or rgba only), required</label>
                                <input class="form-control" type="text" name="text-number" data-validation="colour:rgb:rgba required" />
                                <div class="hidden" data-validation="required">Required</div>
                                <div class="hidden" data-validation="colour">Must be rgb or rgba colour string</div>
                            </div>
                            <div class="form-group">
                                <label for="text-number">Colour (hex, rgb, rgba, hsl, hsla, or keywords), not required</label>
                                <input class="form-control" type="text" name="text-number" data-validation="colour" />
                                <div class="hidden" data-validation="colour">Must be a valid colour string</div>
                            </div>
                            <div class="form-group">
                                <label for="text-number">Password, required</label>
                                <input class="form-control" type="password" name="password" id="password" data-validation="required" />
                                <div class="hidden" data-validation="required">Required</div>
                            </div>
                            <div class="form-group">
                                <label for="text-number">Confirm password, required</label>
                                <input class="form-control" type="password" name="confirm-password" data-validation="required confirm:$('#password')" />
                                <div class="hidden" data-validation="required">Required</div>
                                <div class="hidden" data-validation="confirm">The passwords must match</div>
                            </div>
                            <a class="btn btn-default validation-trigger">custom form trigger (validate section)</a>
                        </div>
                    </div>

                    <input class="btn btn-default" type="submit" value="form submit (validate everything)" />
                    <a class="btn btn-default validation-trigger">custom form trigger (validate everything)</a>
                </div>
                <input type="color" />
            </div>
        </div>

    </form>

    <script src="node_modules/jquery/dist/jquery.min.js"></script>
    <script src="src/validation.js"></script>
    <script>
        validation.init();
        $('input, textarea, select').on({
            'validation.failed': function (e, rule) {
                var $el = $(this);
                $(this).closest('.form-group').find('div[data-validation]').addClass('hidden')
                    .filter('[data-validation="' + rule + '"]').first().removeClass('hidden');
            },
            'validation.passed': function () {
                $(this).closest('.form-group').find('div[data-validation]').addClass('hidden');
            }
        });
    </script>
</body>

</html>
