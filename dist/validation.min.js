/*
 * validation
 * Leon Slater
 * http://mynamesleon.com
 * github.com/mynamesleon/validation
 * @license: MIT
 */
!function(e,t){"use strict";"function"==typeof e.define&&e.define.amd?e.define(["jQuery"],function(a){return e.validation=t(a)}):e.validation=t(e.jQuery)}(this,function(e){"use strict";var t={},a={required:{validate:function(e){return t.validate.required.call(this,e)}},alpha:{regex:/^[a-zA-Z\s]+$/,validate:function(e){return a.alpha.regex.test(e)}},alphanumeric:{regex:/^[a-z0-9]+$/i,validate:function(e){return a.alphanumeric.regex.test(e)}},email:{regex:new RegExp(["^[a-zA-Z0-9.!#$%&'*+/=?\\^_`{|}~\\-]+@[a-zA-Z0-9]","(?:[a-zA-Z0-9\\-]{0,61}[a-zA-Z0-9])?","(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9\\-]{0,61}[a-zA-Z0-9])?)*$"].join("")),validate:function(e){return a.email.regex.test(e)}},min:{validate:function(e,t){return parseFloat(e)>=parseFloat(t)}},max:{validate:function(e,t){return parseFloat(e)<=parseFloat(t)}},range:{separators:/[\,\-\_\|\:]/g,validate:function(e,t){var r=t.replace(a.range.separators," ").split(" "),i=parseFloat(e);return i>=parseFloat(r[0])&&i<=parseFloat(r[1])}},match:{validate:function(e,t){return e===t}},minlength:{validate:function(a,r){var i=(t.element.isCheckable(e(this))?t.element.getByAttribute(e(this),"name").filter(":checked"):a).length;return i>=parseFloat(r)}},maxlength:{validate:function(a,r){var i=(t.element.isCheckable(e(this))?t.element.getByAttribute(e(this),"name").filter(":checked"):a).length;return i<=parseFloat(r)}},rangelength:{separators:/[\,\-\_\|\:]/g,validate:function(r,i){var n=i.replace(a.rangelength.separators," ").split(" "),l=(t.element.isCheckable(e(this))?t.element.getByAttribute(e(this),"name").filter(":checked"):r).length;return l>=parseFloat(n[0])&&l<=parseFloat(n[1])}},minwords:{validate:function(t,a){return e.trim(t).split(/\s+/).length>=parseFloat(a)}},maxwords:{validate:function(t,a){return e.trim(t).split(/\s+/).length<=parseFloat(a)}},rangewords:{separators:/[,-_|:]/g,validate:function(t,r){var i=r.replace(a.rangewords.separators," ").split(" "),n=e.trim(t).split(/\s+/).length;return n>=parseFloat(i[0])&&n<=parseFloat(i[1])}},number:{validate:function(e){return!isNaN(parseFloat(e))&&isFinite(e)}},integer:{regex:/^-?\d+$/,validate:function(e){return a.integer.regex.test(e)}},digits:{regex:/^\d+$/,validate:function(e){return a.digits.regex.test(e)}},checked:{validate:function(a){return"undefined"==typeof a?t.element.getByAttribute(e(this),"name").filter(":checked").length>0:"-1"!==a}},unchecked:{validate:function(a){return"undefined"==typeof a?0===t.element.getByAttribute(e(this),"name").filter(":checked").length:"-1"===a}},confirm:{validate:function(t,a){var r,i,n,l,d,o=[];if("string"==typeof a&&(a=a.split("{!space}").join(" "),"$"===a.charAt(0)&&")"===a.charAt(a.length-1))){for(o=e.trim((a+" ").split("()").join("(empty)").replace(") ","")).split(/[\)\(]/g),i=o.length,d=0;d<i;d+=2){if(n=o[d],l=o[d+1],"$"===n)n=e;else if("."!==n.chartAt(0))throw new Error("Incorrectly formatted jQuery selector function");l="this"===l?this:"empty"===l?void 0:l,"undefined"!=typeof r?(n=n.replace(".",""),l="undefined"==typeof l?l:l.substr(1,l.length-2),r=r[n](l)):r=n(l)}try{return t===r.val()}catch(e){throw new Error("Failed to parse your selector")}}return t===e(a).val()}},regex:{toStringProto:Object.prototype.toString,validate:function(e,t){return"string"==typeof t?new RegExp(t.split("{!space}").join(" ")).test(e):"[object RegExp]"===a.regex.toStringProto.call(t)?t.test(e):void 0}},date:{regex:/Invalid|NaN/,validate:function(e){return!a.date.regex.test(new Date(e).toString())}},url:{regex:new RegExp(["^(?:(?:https?|ftp)://)","(?:\\S+(?::\\S*)?@)?","(?:","(?!(?:10|127)(?:\\.\\d{1,3}){3})","(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})","(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})","(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])","(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}","(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|","(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)","(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*","(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))","\\.?)","(?::\\d{2,5})?","(?:[/?#]\\S*)?","$"].join(""),"i"),validate:function(e){return a.url.regex.test(e)}},ipaddress:{ipv4:new RegExp(["^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}","(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)","(/([0-9]|[1-2][0-9]|3[0-2]))?","$"].join("")),ipv6:new RegExp(["^\\s*","(","(([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|","(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|","(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|","(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|","(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|","(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|","(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|","(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(\\.(25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))",")","(%.+)?\\s*(/(\\d|\\d\\d|1[0-1]\\d|12[0-8]))?$"].join("")),validate:function(e){return a.ipaddress.ipv4.test(e)||a.ipaddress.ipv6.test(e)}},creditcard:{notAllowed:new RegExp("[^0-9 \\-]+"),nonDigits:/\D/g,validate:function(e){if(a.creditcard.notAllowed.test(e))return!1;var t,r,i=0,n=!1,l=0;if(e=e.replace(a.creditcard.nonDigits,""),e.length<13||e.length>19)return!1;for(r=e.length-1;r>=0;r-=1)t=e.charAt(r),l=parseInt(t,10),n&&(l*=2)>9&&(l-=9),i+=l,n=!n;return i%10===0}},colour:{separators:/[\,\-\_\|\:]/g,keywords:["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","transparent","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],regex:{hex:[/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i],hsl:[/^hsl\((\s*(-?\d+)\s*,)(\s*(\b(0?\d{1,2}|100)\b%)\s*,)(\s*(\b(0?\d{1,2}|100)\b%)\s*)\)$/],hsla:[/^hsla\((\s*(-?\d+)\s*,)(\s*(\b(0?\d{1,2}|100)\b%)\s*,){2}(\s*(0?(\.\d+)?|1(\.0+)?)\s*)\)$/],rgb:[/^rgb\((\s*(\b([01]?\d{1,2}|2[0-4]\d|25[0-5])\b)\s*,){2}(\s*(\b([01]?\d{1,2}|2[0-4]\d|25[0-5])\b)\s*)\)$/,/^rgb\((\s*(\b(0?\d{1,2}|100)\b%)\s*,){2}(\s*(\b(0?\d{1,2}|100)\b%)\s*)\)$/],rgba:[/^rgba\((\s*(\b([01]?\d{1,2}|2[0-4]\d|25[0-5])\b)\s*,){3}(\s*(0?(\.\d+)?|1(\.0+)?)\s*)\)$/,/^rgba\((\s*(\b(0?\d{1,2}|100)\b%)\s*,){3}(\s*(0?(\.\d+)?|1(\.0+)?)\s*)\)$/]},validate:function(t,r){var i,n,l,d=a.colour.keywords,o=a.colour.regex;if("color"===e(this).attr("type"))return o.hex[0].test(t);if(r=r||["keywords","hex","hsl","hsla","rgb","rgba"],"string"==typeof r&&(r=r.replace(a.colour.separators," ").split(" ")),e.inArray("keywords",r)>-1&&e.inArray(t,d)>-1)return!0;for(n=0;n<r.length;n+=1)if(i=r[n],"object"==typeof o[i])for(l=0;l<o[i].length;l+=1)if(o[i][l].test(t))return!0;return!1}},addTest:function(e,t){if("string"!=typeof e||"function"!=typeof t)throw new Error("A string and a function are required to add a test");e=e.toLowerCase(),"undefined"==typeof a[e]&&(a[e]={validate:function(e,a){return t.call(this,e,a)}})},setRules:function(){var e,t,r=["required","alpha","alphanumeric","email","equalto","format","pattern","number","numeric","integer","digits","ip","ipaddress","checked","unchecked","date","url","creditcard","color","colour"];for(a.ip=a.ipaddress,a.color=a.colour,a.numeric=a.number,a.format=a.pattern=a.regexp=a.regex,a.equals=a.equalto=a.matches=a.match,e=0;e<r.length;e+=1)t=r[e],a["is"+t]=a[t]},setErrorClassString:function(){var e,t=["validation-failed"];for(e in a)a.hasOwnProperty(e)&&"object"==typeof a[e]&&t.push("validation-failed-"+e);a.errorClassString=t.join(" ")}};return t={getFormData:function(a,r){a=a||e('[data-validation="set"]'),r=r||"name","object"==typeof a&&a.length||(a=e(document));var i=a.find("input, select, textarea").not('[type="submit"], [type="button"]'),n={};return i.each(function(){var a,i,l,d=e(this),o=d.attr(r),s=n;if("undefined"!=typeof o){if(o.indexOf("[")>-1&&o.indexOf("]")>-1&&(o=o.split("[").join(".").split("]").join("")),o.indexOf(".")===-1)return void(n[o]=t.element.getValue(d,r));for(a=o.split("."),i=a.length,l=0;l<i-1;l+=1)"undefined"==typeof s[a[l]]&&(s[a[l]]={}),s=s[a[l]];s[a[i-1]]=t.element.getValue(d,r)}}),n},element:{isCheckable:function(t){return/radio|checkbox/i.test(e(t).attr("type"))},getByAttribute:function(t,a){a=a||"name";var r=e("["+a+'="'+t.attr(a)+'"]');return r.length?r:t},getValue:function(a,r){var i=[];return r=r||"name",t.element.isCheckable(a)&&(a=t.element.getByAttribute(a,"name").filter(":checked")),a.each(function(){var t=e(this).val();e.isArray(t)&&(t=t.join(",")),i.push(t)}),0===i.length&&i.push(-1),i.join(",")},setClasses:function(e,t){e.removeClass(a.errorClassString),t===!0?e.triggerHandler("validation.passed"):e.addClass("validation-failed validation-failed-"+t).triggerHandler("validation.failed",t)},getRules:function(t){var a=[],r={};return 1===t.length?t.data("validation"):(t.each(function(){var t,i,n=e(this).data("validation"),l=[];if("undefined"!=typeof n)for(l=n.split(" "),t=l.length,i=0;i<t;i+=1)"undefined"==typeof r[l[i]]&&(a.push(l[i]),r[l[i]]=!0)}),a.join(" "))}},validate:{required:function(a){var r=e(this);return"SELECT"===r[0].nodeName?a&&a.length>0&&"0"!==a&&"-1"!==a:t.element.isCheckable(r)?r.filter(":checked").length>0:"string"!=typeof a?!!a:a.length>0},all:function(a){var r=e(this),i=r.find("input[data-validation], select[data-validation], textarea[data-validation]");return i.each(t.validate.element),i.filter(".validation-failed").length?(r.addClass("validation-failed").triggerHandler("validation.failed",t.getFormData(r)),!1):(r.removeClass("validation-failed").triggerHandler("validation.passed",t.getFormData(r)),!0)},rules:function(e,t,r,i){if("undefined"==typeof r)throw new Error("No value provided");var n,l,d,o,s,u=t.length,f=!0;for(s=0;s<u;s+=1){if(n=t[s],o=void 0,n.indexOf(":")>-1&&(d=n.split(":"),n=d.shift(),o=d.join(":")),n=n.toLowerCase(),"object"!=typeof a[n])throw new Error("That validation test does not exist. Use validation.addTest('"+n+"')");if(l=a[n].validate,(i!==!1||"required"!==n&&"isrequired"!==n)&&""!==n&&"function"==typeof l&&l.call(e,r,o)===!1){f=n;break}}return f},element:function(a){var r,i=e(this),n=t.element.getValue(i),l=!0;return t.element.isCheckable(i)&&(i=t.element.getByAttribute(i,"name")),r=t.element.getRules(i),l=t.validate.required.call(i,n)?t.validate.rules(i,r.split(" "),n,!1):(" "+r.toLowerCase()+" ").indexOf(" required ")>-1?"required":!((" "+r.toLowerCase()+" ").indexOf(" isrequired ")>-1)||"isrequired",t.element.setClasses(i,l),l},handle:function(r,i,n){var l;return"object"!=typeof r||null===r?("undefined"!=typeof i&&null!==i&&""!==i||(i=["required"]),"string"==typeof i&&(i=i.split(" ")),t.validate.rules({},i,r,n||!1)):!(l=e(r||'[data-validation="set"]')).length||(a.setErrorClassString(),/input|select|textarea/i.test(l[0].nodeName)?!l.each(t.validate.element).filter("validation-failed").length:t.validate.all.call(l))}},prep:function(){var a=e(this).attr("data-validation","set");"FORM"===this.nodeName&&a.on("submit",function(e){return t.validate.handle(this)}),a.on("click",".validation-trigger",function(a){t.validate.handle(e(this).closest('[data-validation="set"]'))}),a.on("change","input, select, textarea",function(r){var i=a.parent().closest('[data-validation="set"]').length||(t.element.isCheckable(e(this))?!t.element.getByAttribute(e(this),"name").filter("[data-validation]").length:"undefined"==typeof e(this).data("validation"));i||t.validate.handle(this)})},init:function(){e('[data-validation="true"]').each(t.prep)}},a.setRules(),{init:t.init,addTest:a.addTest,getFormData:t.getFormData,validate:function(e,a){return t.validate.handle(e,a,!0)}}});
//# sourceMappingURL=validation.min.js.map
